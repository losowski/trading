FROM debian

RUN apt update
RUN apt upgrade -y

RUN apt install -y python3 python3-pip python3-psycopg2
RUN pip3 install yahoo-historical

RUN mkdir -p /app/python/database /app/scripts /app/xml

WORKDIR /app

ADD symbol.py /app
ADD scripts/* /app/scripts/
ADD python/database/ /app/python/database
ADD xml/db_connection.xml xml/db_connection.xml

CMD /app/scripts/$SYMBOL.sh
